

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>
	红领巾社区
</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--开启响应式布局-->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" /><meta name="author" /><link rel="icon" href="/images/logo.jpg" /><link href="/js/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/common.js"></script>
    <style>
        /*
        * Style tweaks
        * --------------------------------------------------
        */
        html,
        body {
            overflow-x: hidden; /* Prevent scroll on narrow devices */
            /*font-family: KaiTi;*/
        }

        body {
            padding-top: 70px;
        }

        footer {
            padding: 30px 0;
        }
    </style>
    <script type="text/javascript">
        function modaldemo() {
            $("#modal-demo").modal("show");
        }
        //向服务器请求当前登录状态，然后切换登录区域的显示
        var checkLogin = function () {
            $.post("/ajax/CheckLogin.ashx", function (data) {
                var strs = data.split("|");
                if (strs[0] == "no") {
                    //alert("木有登陆");
                    $("#divLoginArea").show();
                    $("#divLoginOutArea").hide();
                }
                else {
                    //切换“登录”、“注销”的两个层
                    $("#divLoginArea").hide();
                    $("#divLoginOutArea").show();
                    $("#spanUserName").text(strs[1]);//把当前登录用户名显示出来
                }
            });
        }

        var loginFinish = function (data) {
            if (data == "ok") {
                //alert("成功");
                $("#divLogin").dialog("close"); //登录成功关闭窗口
                checkLogin();//登录成功，刷新登录区域的显示
            }
            else {
                alert("用户名密码错误");
            }
        };
        $(function () {
            $("#btnLogin").click(function () {
                //todo:检验用户名、密码不能为空
                var username = $("#txtUserName").val();
                var password = $("#txtPwd").val();
                $.post("/ajax/UserLogin.ashx",
                    { "username": username, "password": password },
                    function (data) {
                        if (data == "ok") {
                            $("#modal-demo").modal("hide");
                            checkLogin();//登录成功，刷新登录区域的显示
                        }
                        else {
                            alert("用户名密码错误");
                        }
                    });
            });
        });

        $(function () {
            checkLogin();//刚进入页面的时候也是先向服务器查询当前登录状态
            $("#btnLogout").click(function () {
                $.post("/ajax/Logout.ashx", function () {
                    checkLogin();//刷新显示
                });
            });
        });

        $(function () {
            //绑定菜单列表
            $.post("/ajax/GetChannel.ashx", { "action": "parent" }, function (data) {
                var chas = $.parseJSON(data);
                for (var i = 0; i < chas.length; i++) {
                    var cha = chas[i];
                    $('<li><a href="/Art/ViewChannel.aspx?id=' + cha.Id + '">' + cha.Name + '</a></li>').appendTo("#header-menu");
                }
            })
        })
    </script>
    
    
    
    
    <script src="/js/common.js"></script>
    <script type="text/javascript">
        //提交评论完成后的处理
        var postFinish = function (data) {
            //var oEditor = CKEDITOR.instances.txtComment;
            if (data == "ok") {
                //把评论的内容添加到界面上
                $("<li>"+$("#txtComment").val()+"</li>").appendTo("#ulComments");
                //$("<li>" + oEditor.getData() + "</li>").appendTo("#ulComments");


            }
            else if (data == "mod") {
                alert("等待审核");
            }
            else if (data == "banned") {
                alert("您的评论内容含有禁用词汇，请注意文明用语！");
            }
            else {
                alert("服务器返回错误:" + data);
            }
            //清空CKEditor
            //oEditor.setData("");//设置txtComment的内容也不能影响CKEditor
            $("#txtComment").val("");//评论提交成功后清除文本框
        };
        $(function () {
            //启动的时候通过ajax加载评论
            $.post("/ajax/GetComments.ashx", { "articleId": "27" },
            function (data) {
                var comments = $.parseJSON(data);//和eval一样是把json字符串转换为对象
                for (var i = 0; i < comments.length; i++) {
                    //把每条评论添加到ulComments上
                    var comment = comments[i];
                    $("<li>" + ubbToHtml(comment.Msg) + "</li>").appendTo("#ulComments");
                }
            });
            //todo:做静态页的时候思考为什么通过ajax加载评论，为什么有的网站在另外一个页面显示评论
            $("#btnPostComment").click(function () {
                var msg = $("#txtComment").val();
                //判断是否为空
                if (msg == null || msg == "" || msg == undefined) {
                    alert("请输入评论内容");
                    return;
                }
                //CKEditor是把原先的textarea替换（replace）调，然后画自己的内容，所以读取textarea的value并不能得到CKEditor当前编辑的内容
                //var oEditor = CKEDITOR.instances.txtComment;
                //var msg = oEditor.getData();
                //通过ajax提交评论
                $.post("/ajax/PostComment.ashx",
                    { "articleId": "27", "msg": msg },
                    postFinish);
            });
        });

        //    $(function () {
        //        CKEDITOR.replace('txtComment',
        //{
        //    extraPlugins: 'bbcode',
        //    removePlugins: 'bidi,button,dialogadvtab,div,filebrowser,flash,format,forms,horizontalrule,iframe,indent,justify,liststyle,pagebreak,showborders,stylescombo,table,tabletools,templates',
        //    toolbar:
        //    [
        //        ['Source', '-', 'Save', 'NewPage', '-', 'Undo', 'Redo'],
        //        ['Find', 'Replace', '-', 'SelectAll', 'RemoveFormat'],
        //        ['Link', 'Unlink', 'Image'],
        //        '/',
        //        ['FontSize', 'Bold', 'Italic', 'Underline'],
        //        ['NumberedList', 'BulletedList', '-', 'Blockquote'],
        //        ['TextColor', '-', 'Smiley', 'SpecialChar', '-', 'Maximize']
        //    ],
        //    smiley_images:
        //    [
        //        'regular_smile.gif', 'sad_smile.gif', 'wink_smile.gif', 'teeth_smile.gif', 'tounge_smile.gif',
        //        'embaressed_smile.gif', 'omg_smile.gif', 'whatchutalkingabout_smile.gif', 'angel_smile.gif', 'shades_smile.gif',
        //        'cry_smile.gif', 'kiss.gif'
        //    ],
        //    smiley_descriptions:
        //    [
        //        'smiley', 'sad', 'wink', 'laugh', 'cheeky', 'blush', 'surprise',
        //        'indecision', 'angel', 'cool', 'crying', 'kiss'
        //    ]
        //});
        //    });
    </script>
    <script type="text/javascript">
        var rateFinish = function (data) {
            if (data == "duplicate") {
                alert("同一段视频24小时之内只能打分一次");
            }
            else {
                alert("打分成功");
            }
        }
        var imgStyle = function () {
            $("img").addClass("img-responsive");
        }

        $(function () {
            imgStyle();
            $("#btnDing").button({
                icons: { primary: 'ui-icon-check' }
            }).click(function () {
                $.post("/ajax/RateArticle.ashx",
                { "articleId": "27", "action": 1 }, rateFinish);
            });
            $("#btnCai").button({
                icons: { primary: 'ui-icon-closethick' }
            }).click(function () {
                $.post("/ajax/RateArticle.ashx",
                { "articleId": "27", "action": -1 }, rateFinish);
            });
        });
    </script>
</head>
<body>
    <nav class="navbar navbar-fixed-top navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/Index.aspx">红领巾社区</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav" id="header-menu">
                    <li class="active"><a href="/Index.aspx">首页</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li id="divLoginArea">
                        <a href="javascript:;" onclick="modaldemo()">登录</a>
                    </li>
                    <li id="divLoginOutArea" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">欢迎您，<span id="spanUserName"></span><span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="/FindPassword.aspx">修改密码</a></li>
                            <li><a href="javascript:;" id="btnLogout">注销</a></li>
                        </ul>
                    </li>
                </ul>

            </div>

            <!-- /.nav-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <!-- /.navbar -->
    <div class="container">
        <form method="post" action="./ViewArticle.aspx?id=27" id="form1">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTIwNzQ0MjkzMjhkZNbbeL38Ox0VsgdXW+ie5WCZQJ22fxZlT9COXWbfTw20" />

            
    <div class="row">
        <div class="col-lg-12">
            <h4 class="text-primary">
                一个.net实现的ubb类<br />
            </h4>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <p>
	using System;<br />
	using System.Text.RegularExpressions;<br />
	<br />
	namespace ubb.Components<br />
	{<br />
	&nbsp;/// &lt;summary&gt;<br />
	&nbsp;/// UBB 的摘要说明。<br />
	&nbsp;/// &lt;/summary&gt;<br />
	&nbsp;public class UBB<br />
	&nbsp;{<br />
	&nbsp; private static string dvHTMLEncode(string fString)<br />
	&nbsp; {<br />
	&nbsp;&nbsp; if(fString!=string.Empty)<br />
	&nbsp;&nbsp; {<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(&quot;&lt;&quot;,&quot;&amp;lt;&quot;);<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(&quot;&gt;&quot;,&quot;&amp;rt;&quot;);<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(((char)34).ToString(), &quot;&amp;quot;&quot;);<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(((char)39).ToString(), &quot;&amp;#39;&quot;);<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(((char)13).ToString(), &quot;&quot;);<br />
	&nbsp;&nbsp;&nbsp; fString.Replace(((char)10).ToString(), &quot;&lt;BR&gt; &quot;);<br />
	<br />
	&nbsp;&nbsp; }<br />
	&nbsp;&nbsp; return(fString);<br />
	&nbsp; }<br />
	<br />
	&nbsp; public static string txtMessage(string str)<br />
	&nbsp; {<br />
	&nbsp;&nbsp; str = dvHTMLEncode(str);<br />
	&nbsp;&nbsp; if(str!=&quot;&quot;)<br />
	&nbsp;&nbsp; {<br />
	&nbsp;&nbsp;&nbsp; Regex my=new Regex(@&quot;(/[IMG/])(.[^/[]*)(/[//IMG/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;a href=&quot;&quot;$2&quot;&quot; target=_blank&gt;&lt;IMG SRC=&quot;&quot;$2&quot;&quot; border=0 alt=按此在新窗口浏览图片 onload=&quot;&quot;javascript:if(this.width&gt;screen.width-333)this.width=screen.width-333&quot;&quot;&gt;&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[DIR=*([0-9]*),*([0-9]*)/](.[^/[]*)/[//DIR]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;object classid=clsid:166B1BCA-3F9C-11CF-8075-444553540000 codebase=http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=7,0,2,0 width=$1 height=$2&gt;&lt;param name=src value=$3&gt;&lt;embed src=$3 pluginspage=http://www.macromedia.com/shockwave/download/ width=$1 height=$2&gt;&lt;/embed&gt;&lt;/object&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[QT=*([0-9]*),*([0-9]*)/](.[^/[]*)/[//QT]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;embed src=$3 width=$1 height=$2 autoplay=true loop=false controller=true playeveryframe=false cache=false scale=TOFIT bgcolor=#000000 kioskmode=false targetcache=false pluginspage=http://www.apple.com/quicktime/&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[MP=*([0-9]*),*([0-9]*)/](.[^/[]*)/[//MP]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;object align=middle classid=CLSID:22d6f312-b0f6-11d0-94ab-0080c74c7e95 class=OBJECT id=MediaPlayer width=$1 height=$2 &gt;&lt;param name=ShowStatusBar value=-1&gt;&lt;param name=Filename value=$3&gt;&lt;embed type=application/x-oleobject codebase=http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701 flename=mp src=$3&nbsp; width=$1 height=$2&gt;&lt;/embed&gt;&lt;/object&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[RM=*([0-9]*),*([0-9]*)/](.[^/[]*)/[//RM]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;OBJECT classid=clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA class=OBJECT id=RAOCX width=$1 height=$2&gt;&lt;PARAM NAME=SRC VALUE=$3&gt;&lt;PARAM NAME=CONSOLE VALUE=Clip1&gt;&lt;PARAM NAME=CONTROLS VALUE=imagewindow&gt;&lt;PARAM NAME=AUTOSTART VALUE=true&gt;&lt;/OBJECT&gt;&lt;br/&gt;&lt;OBJECT classid=CLSID:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA height=32 id=video2 width=$1&gt;&lt;PARAM NAME=SRC VALUE=$3&gt;&lt;PARAM NAME=AUTOSTART VALUE=-1&gt;&lt;PARAM NAME=CONTROLS VALUE=controlpanel&gt;&lt;PARAM NAME=CONSOLE VALUE=Clip1&gt;&lt;/OBJECT&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[FLASH/])(.[^/[]*)(/[//FLASH/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;OBJECT codeBase=http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=4,0,2,0 classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 width=500 height=400&gt;&lt;PARAM NAME=movie VALUE=&quot;&quot;$2&quot;&quot;&gt;&lt;PARAM NAME=quality VALUE=high&gt;&lt;embed src=&quot;&quot;$2&quot;&quot; quality=high pluginspage=&#39;http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash&#39; type=&#39;application/x-shockwave-flash&#39; width=500 height=400&gt;$2&lt;/embed&gt;&lt;/OBJECT&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[ZIP/])(.[^/[]*)(/[//ZIP/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;br/&gt;&lt;IMG SRC=pic/zip.gif border=0&gt; &lt;a href=&quot;&quot;$2&quot;&quot;&gt;点击下载该文件&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[RAR/])(.[^/[]*)(/[//RAR/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;br/&gt;&lt;IMG SRC=pic/rar.gif border=0&gt; &lt;a href=&quot;&quot;$2&quot;&quot;&gt;点击下载该文件&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[UPLOAD=(.[^/[]*)/])(.[^/[]*)(/[//UPLOAD/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;br/&gt;&lt;IMG SRC=&quot;&quot;pic/$2.gif&quot;&quot; border=0&gt;此主题相关图片如下：&lt;br/&gt;&lt;A HREF=&quot;&quot;$3&quot;&quot; TARGET=_blank&gt;&lt;IMG SRC=&quot;&quot;$3&quot;&quot; border=0 alt=按此在新窗口浏览图片 onload=&quot;&quot;javascript:if(this.width&gt;screen.width-333)this.width=screen.width-333&quot;&quot;&gt;&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;(/[URL/])(http:////.[^/[]*)(/[//URL/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;A HREF=&quot;&quot;$2&quot;&quot; TARGET=_blank&gt;$2&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;(/[ATT/])(http:////.[^/[]*)(/[//ATT/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;上传文件:&lt;A HREF=&quot;&quot;$2&quot;&quot; TARGET=_blank&gt;$2&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[URL/])(.[^/[]*)(/[//URL/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;A HREF=&quot;&quot;http://$2&quot;&quot; TARGET=_blank&gt;$2&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[URL=(http:////.[^/[]*)/])(.[^/[]*)(/[//URL/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;A HREF=&quot;&quot;$2&quot;&quot; TARGET=_blank&gt;$3&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[URL=(.[^/[]*)/])(.[^/[]*)(/[//URL/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;A HREF=&quot;&quot;http://$2&quot;&quot; TARGET=_blank&gt;$3&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[EMAIL/])(/S+/@.[^/[]*)(/[//EMAIL/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;A HREF=&quot;&quot;mailto:$2&quot;&quot;&gt;$2&lt;/A&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;^(HTTP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(HTTP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)$&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;[^&gt;=&quot;&quot;](HTTP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;^(FTP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;(FTP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)$&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;[^&gt;=&quot;&quot;](FTP://[A-Za-z0-9/.//=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;^(RTSP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;(RTSP://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)$&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;[^&gt;=&quot;&quot;](RTSP://[A-Za-z0-9/.//=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;^(MMS://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my= new Regex(@&quot;(MMS://[A-Za-z0-9/./=/?%/-&amp;_~`@&#39;:+!]+)$&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;[^&gt;=&quot;&quot;](MMS://[A-Za-z0-9/.//=/?%/-&amp;_~`@&#39;:+!]+)&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str = my.Replace(str,@&quot;&lt;a target=_blank href=$1&gt;$1&lt;/a&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[HTML/])(.[^/[]*)(/[//HTML/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;table width=&#39;100%&#39; border=&#39;0&#39; cellspacing=&#39;0&#39; cellpadding=&#39;6&#39; bgcolor=&#39;&#39;&gt;&lt;td&gt;&lt;b&gt;以下内容为程序代码:&lt;/b&gt;&lt;br/&gt;$2&lt;/td&gt;&lt;/table&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[CODE/])(.[^/[]*)(/[//CODE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;table width=&#39;100%&#39; border=&#39;0&#39; cellspacing=&#39;0&#39; cellpadding=&#39;6&#39; bgcolor=&#39;&#39;&gt;&lt;td&gt;&lt;b&gt;以下内容为程序代码:&lt;/b&gt;&lt;br/&gt;$2&lt;/td&gt;&lt;/table&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[COLOR=(.[^/[]*)/])(.[^/[]*)(/[//COLOR/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font COLOR=$2&gt;$3&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[FACE=(.[^/[]*)/])(.[^/[]*)(/[//FACE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font FACE=$2&gt;$3&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[ALIGN=(.[^/[]*)/])(.*)(/[//ALIGN/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;div ALIGN=$2&gt;$3&lt;/div&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[QUOTE/])(.*)(/[//QUOTE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;table cellpadding=0 cellspacing=0 border=0 WIDTH=94% bgcolor=#66CCCC align=center&gt;&lt;tr&gt;&lt;td&gt;&lt;table width=100% cellpadding=5 cellspacing=1 border=1&gt;&lt;TR&gt;&lt;TD BGCOLOR=&#39;&#39;&gt;$2&lt;/table&gt;&lt;/table&gt;&lt;br/&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[MOVE/])(.*)(/[//MOVE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;MARQUEE scrollamount=3&gt;$2&lt;/marquee&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[GLOW=*([0-9]*),*(#*[a-z0-9]*),*([0-9]*)/](.[^/[]*)/[//GLOW]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;table width=$1 style=&quot;&quot;filter:glow(color=$2, strength=$3)&quot;&quot;&gt;$4&lt;/table&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;/[SHADOW=*([0-9]*),*(#*[a-z0-9]*),*([0-9]*)/](.[^/[]*)/[//SHADOW]&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;table width=$1 style=&quot;&quot;filter:shadow(color=$2, strength=$3)&quot;&quot;&gt;$4&lt;/table&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[I/])(.[^/[]*)(/[//I/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;i&gt;$2&lt;/i&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[U/])(.[^/[]*)(/[//U/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;u&gt;$2&lt;/u&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[B/])(.[^/[]*)(/[//B/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;b&gt;$2&lt;/b&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[FLY/])(.[^/[]*)(/[//FLY/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;marquee&gt;$2&lt;/marquee&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[SIZE=1/])(.[^/[]*)(/[//SIZE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font size=1&gt;$2&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[SIZE=2/])(.[^/[]*)(/[//SIZE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font size=2&gt;$2&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[SIZE=3/])(.[^/[]*)(/[//SIZE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font size=3&gt;$2&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[SIZE=4/])(.[^/[]*)(/[//SIZE/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;font size=4&gt;$2&lt;/font&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp;&nbsp; my=new Regex(@&quot;(/[CENTER/])(.[^/[]*)(/[//CENTER/])&quot;,RegexOptions.IgnoreCase);<br />
	&nbsp;&nbsp;&nbsp; str=my.Replace(str,@&quot;&lt;center&gt;$2&lt;/center&gt;&quot;);<br />
	<br />
	&nbsp;&nbsp; }<br />
	&nbsp;&nbsp; return(str);<br />
	&nbsp; &nbsp;<br />
	&nbsp; }<br />
	&nbsp;}<br />
	}<br />
	---------------------<br />
	作者：mdot<br />
	来源：CSDN<br />
	原文：https://blog.csdn.net/mdot/article/details/181391?utm_source=copy<br />
	版权声明：本文为博主原创文章，转载请附上博文链接！</p>

        </div>
    </div>
    <div class="row">
        <div class="col-lg-10">
            <strong>发表时间：2018/10/16 14:47:34
            </strong>
        </div>
        <div class="col-lg-2">
            <a class="btn btn-default" id="btnDing"><span class="glyphicon glyphicon-thumbs-up"></span>推荐</a>
            <a class="btn btn-default" id="btnCai"><span class="glyphicon glyphicon-thumbs-down "></span>反对</a>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-lg-12">
            <h4>评论列表</h4>
            <div class="">
                <ol id="ulComments">
                </ol>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <textarea class="form-control" placeholder="说两句吧..." id="txtComment"></textarea><br />
        </div>
    </div>
    <div class="row">
        <div class="col-lg-1 col-lg-offset-11">
            <input type="button" class="btn btn-default" value="评论" id="btnPostComment" />
        </div>
    </div>

        
<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="E1B165C8" /></form>
        
        
        <hr />
        <footer>
            <p>&copy; 本站所有信息均采集于互联网,如有侵权请联系：qctvip@vip.163.com</p>
            <div class="hidden">
            <script src="https://s19.cnzz.com/z_stat.php?id=1275095046&web_id=1275095046" type="text/javascript"></script>
            </div>
        </footer>
    </div>
    <!--登录对话框-->
    <div id="modal-demo" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content radius">
                <div class="modal-header">
                    <h3 class="modal-title">用户登录</h3>
                    <a class="close" data-dismiss="modal" aria-hidden="true" href="javascript:void();">×</a>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="txtUserName" class="col-sm-2 col-md-5 control-label">用户名</label>
                            <div class="col-sm-3">
                                <input type="email" class="form-control" id="txtUserName" placeholder="用户名" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="txtPwd" class="col-sm-2 col-md-5 control-label">密码</label>
                            <div class="col-sm-3">
                                <input type="password" class="form-control" id="txtPwd" placeholder="密码" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10 col-md-offset-5">
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" />
                                        记住密码
                                    </label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="text-left">
                        <a href="/RegUser.aspx">注册</a>
                        <a href="/FindPassword.aspx">忘记密码?</a>
                    </div>
                    <button class="btn btn-primary" id="btnLogin">确定</button>
                    <button class="btn" data-dismiss="modal" aria-hidden="true">关闭</button>
                </div>
            </div>
        </div>
    </div>

<!-- Visual Studio Browser Link -->
<script type="application/json" id="__browserLink_initializationData">
    {"appName":"Unknown","requestId":"67cfd3491e774aaeb97e13983d18fb5e"}
</script>
<script type="text/javascript" src="http://localhost:3285/f03e4909866e4711a8dd495b7f39e2ba/browserLink" async="async"></script>
<!-- End Browser Link -->

</body>
</html>
